"use strict";$(function(){var c=void 0;function e(t){var e=(c=t).map(function(t){return"\n                <tr data-goodid="+t.goodid+'>\n                    <th scope="row"><input '+(1==t.isActive?"checked":"")+' type="checkbox"></th>\n                    <td>\n                        <div class="shop">\n                            <img src='+t.src+' alt="">\n                            <p>'+t.title+'</p>\n                        </div>\n                    </td>\n                    <td class="price">￥ <span id="price"> '+t.price+'</span> </td>\n                    <td>\n                        <div class="num">\n                            <a class="prev">-</a>\n                            <input type="text" value="'+t.num+'">\n                            <a class="next">+</a>\n                        </div>\n                    </td>\n                    <td class="total">￥ <span id="money">'+t.total+'</span></td>\n                    <td class="delete">删除</td>\n                </tr>\n                    '}).join("");$("tbody").html(e)}function n(){$(".next").click(function(){$(this).prev()[0].value++;var t=$(this).parent().parent().parent().data("goodid");$.ajax({type:"get",url:"../../../server/addClick.php",data:"goodid="+t,dataType:"json",success:function(t){console.log(t),e(t),i(),n(),a(),o()}})})}function a(){$(".prev").click(function(){if(1!=$(this).next()[0].value){$(this).html("-"),$(this).next()[0].value--;var t=$(this).parent().parent().parent().data("goodid");$.ajax({type:"get",url:"../../../server/reduceClick.php",data:"goodid="+t,dataType:"json",success:function(t){e(t),i(),n(),a(),o()}})}})}function o(){$(".delete").click(function(){console.log(111);var t=$(this).parent().data("goodid");$.ajax({type:"get",url:"../../../server/removeCart.php",data:"goodid="+t,dataType:"json",success:function(t){e(t),i(),n(),a(),o()}})})}function i(){var e=0;c.forEach(function(t){1==t.isActive&&(e+=+t.total)}),$(".money span").html(e)}$.ajax({type:"get",url:"../../../server/getCatData.php",dataType:"json",success:function(t){console.log(t),e(t),n(),a(),o(),i()}}),$("#check").click(function(){$("#check").is(":checked")?$("input[type='checkbox']").prop("checked",!0):$("input[type='checkbox']").prop("checked",!1)}),$("#check2").click(function(){$("#check2").is(":checked")?$("input[type='checkbox']").prop("checked",!0):$("input[type='checkbox']").prop("checked",!1)})});