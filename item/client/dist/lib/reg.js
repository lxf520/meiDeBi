"use strict";$(function(){var a=0,r=0,o=0,l=0;$(".phone").blur(function(){var s=$(this).val();/^1[3-9]\d{9}$/.test(s)?(a=1,$(".phone").nextAll().css("display","none")):""==s?(a=0,$("#verphone2").css("display","block").prev().css("display","none")):(a=0,$("#verphone1").css("display","block").next().css("display","none"))});var e=void 0;new Captcha({lineNum:10,dotNum:3,fontSize:40,length:4,content:"012345432424542"}).draw(document.querySelector("#captcha"),function(s){e=s,$(".verify").trigger("blur")}),$(".verify").blur(function(){$(this).val()==e?(r=1,$(".verify .verCode").css("display","none"),$(".yzm").css("border","1px solid #ccc")):(r=0,$(".verify .verCode").css("display","true"),$(".yzm").css("border","1px solid orangered"))}),$(".password").blur(function(){var s=$(this).val(),e=!1;if(hasbig=!1,hassmall=!1,/^[a-zA-Z0-9]{6,15}$/.test(s)){o=1,$("#verpass1,#verpass2").css("display","none");for(var a=0;a<s.length;a++){var r=s.charCodeAt(a);48<=r&&r<=57&&(e=!0),97<=r&&r<=122&&(hassmall=!0),65<=r&&r<=90&&(hasbig=!0)}(e||hasbig||hassmall)&&$(".pass_bar .t1").css("backgroundColor","#195"),(e&hasbig||hasbig&hassmall||hassmall&e)&&$(".pass_bar .t2").css("backgroundColor","orange"),e&hasbig&hassmall&&$(".pass_bar .t3").css("backgroundColor","red")}else""==s?(o=0,$("#verpass2").css("display","block").prev().css("display","none")):(o=0,$("#verpass1").css("display","block").next().css("display","none"))}),$(".repassword").blur(function(){$(this).val()===$(".password").val()?(l=1,$("#pswTest").css("display","none")):(l=0,$("#pswTest").css("display","block"))}),$(".btn-submit").click(function(){if($(".phone,.verify,.password,.repassword").trigger("blur"),console.log(a,r,o,l),!(!a|!r|!o|!l)){var s=$("#protocol").is(":checked");if(console.log(s),$("#protocol").is(":checked")){var e={phone:$.trim($(".phone").val()),password:md5($.trim($(".password").val())).substr(0,10)};$.ajax({data:e,type:"get",dataType:"json",url:"../../../server/register.php",success:function(s){"success"==s.status?(alert(s.msg),window.location.href="../html/zhuye.html",Cookie.setItem("username",$.trim($(".phone").val())),Cookie.setItem("password",md5($.trim($(".password").val())).substr(0,10))):alert(s.msg)}})}else alert("请阅读并同意用户协议！")}})});